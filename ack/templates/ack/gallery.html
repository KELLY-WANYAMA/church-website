{% extends 'ack/base.html' %} 

{% load static %}

{% block title %}Church Gallery - ACK ST. JUDE'S HURUMA{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/gallery.css' %}">
<style>
.hero {
    background: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url('{% static "image/church-hero.jpg" %}');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    color: white;
    text-align: center;
    padding: 120px 20px;
    margin-top: 60px;
}
</style>
{% endblock %}


{% block content %}
    <main>
        <section class="gallery-section">
    <div class="container">
        <h1><i class="fas fa-images"></i> Church Gallery</h1>
        <p class="subtitle">Capturing moments of faith, fellowship, and service</p>
        
        <!-- Gallery Summary -->
        <div class="gallery-summary">
            <div class="summary-item">
                <span class="summary-count">{{ gallery_items|length }}</span>
                <span class="summary-label">Total Photos</span>
            </div>
            <div class="summary-item">
                <span class="summary-count">{{ featured_items|length }}</span>
                <span class="summary-label">Featured</span>
            </div>
        </div>
        
            <div class="gallery-categories">
                <button class="category-btn {% if current_category == 'all' %}active{% endif %}" 
                        data-category="all" onclick="filterGallery('all')">All Events</button>
                
                {% for category in unique_categories %}
                <button class="category-btn {% if current_category == category %}active{% endif %}" 
                        data-category="{{ category }}" onclick="filterGallery('{{ category }}')">
                    {{ category|title }}
                </button>
                {% endfor %}
            </div>

        <!-- Gallery Grid -->
        <div class="gallery-grid">
            {% for item in gallery_items %}
            <div class="gallery-item" data-category="{{ item.category }}">
                <img src="{{ item.image.url }}" alt="{{ item.title }}" loading="lazy">
                <div class="gallery-overlay">
                    <h3>{{ item.title }}</h3>
                    <p>{{ item.date|date:"F j, Y" }}</p>
                    {% if item.description %}
                    <div class="gallery-description">
                        {{ item.description|truncatewords:15 }}
                    </div>
                    {% endif %}
                    {% if item.is_featured %}
                    <div class="featured-badge">
                        <i class="fas fa-star"></i> Featured
                    </div>
                    {% endif %}
                </div>
            </div>
            {% empty %}
            <div class="no-gallery-items">
                <i class="fas fa-camera"></i>
                <h3>No Photos Yet</h3>
                <p>Check back soon for gallery updates!</p>
            </div>
            {% endfor %}
        </div>
        
        <!-- Load More Button (Optional) -->
        {% if gallery_items|length > 12 %}
        <div class="load-more-container">
            <button class="load-more-btn" id="loadMore">
                <i class="fas fa-plus"></i> Load More Photos
            </button>
        </div>
        {% endif %}
    </div>
</section>
    </main>

{% endblock %}

{% block extra_js %}
<script src="{% static 'js/gallery.js' %}"></script>
{% endblock %}
